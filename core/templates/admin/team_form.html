{% extends 'admin_base.html' %}
{% load static %}

{% block content %}
<h2>{{ action }} Team Member</h2>

<form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="mb-3">
        <label for="id_name" class="form-label">Name</label>
        <input type="text" name="name" class="form-control{% if form.name.errors %} is-invalid{% endif %}" id="id_name" value="{{ form.name.value|default_if_none:'' }}">
        {% for error in form.name.errors %}
            <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="id_role" class="form-label">Role</label>
        <input type="text" name="role" class="form-control{% if form.role.errors %} is-invalid{% endif %}" id="id_role" value="{{ form.role.value|default_if_none:'' }}">
        {% for error in form.role.errors %}
            <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="id_image" class="form-label">Image</label>
        {% if form.instance.image %}
            <div class="mb-2">
                <img src="{{ form.instance.image.url }}" alt="Current Image" class="img-thumbnail" width="200">
            </div>
        {% endif %}
        <input type="file" name="image" class="form-control{% if form.image.errors %} is-invalid{% endif %}" id="id_image">
        {% for error in form.image.errors %}
            <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="id_twitter" class="form-label">Twitter</label>
        <input type="url" name="twitter" class="form-control{% if form.twitter.errors %} is-invalid{% endif %}" id="id_twitter" value="{{ form.twitter.value|default_if_none:'' }}">
        {% for error in form.twitter.errors %}
            <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="id_facebook" class="form-label">Facebook</label>
        <input type="url" name="facebook" class="form-control{% if form.facebook.errors %} is-invalid{% endif %}" id="id_facebook" value="{{ form.facebook.value|default_if_none:'' }}">
        {% for error in form.facebook.errors %}
            <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="id_linkedin" class="form-label">LinkedIn</label>
        <input type="url" name="linkedin" class="form-control{% if form.linkedin.errors %} is-invalid{% endif %}" id="id_linkedin" value="{{ form.linkedin.value|default_if_none:'' }}">
        {% for error in form.linkedin.errors %}
            <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
    </div>

    <div class="mb-3">
        <label for="id_instagram" class="form-label">Instagram</label>
        <input type="url" name="instagram" class="form-control{% if form.instagram.errors %} is-invalid{% endif %}" id="id_instagram" value="{{ form.instagram.value|default_if_none:'' }}">
        {% for error in form.instagram.errors %}
            <div class="invalid-feedback">{{ error }}</div>
        {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary">{{ action }}</button>
    <a href="{% url 'team_list' %}" class="btn btn-secondary">Cancel</a>
</form>
{% endblock %}
